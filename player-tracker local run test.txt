Last login: Thu Aug 14 01:41:14 on ttys000
ciaranobrien@Ciarans-MacBook-Pro player-tracker % npm run build

> player-tracker@1.0.0 build
> next build

   ▲ Next.js 14.0.4
   - Environments: .env

 ✓ Creating an optimized production build    
 ✓ Compiled successfully
 ✓ Linting and checking validity of types    
 ✓ Collecting page data    
   Generating static pages (0/25)  [    ]Error fetching leaderboard: ew [Error]: Dynamic server usage: Page couldn't be rendered statically because it used `request.url`. See more info here: https://nextjs.org/docs/messages/dynamic-server-error
    at Object.eP [as staticGenerationBailout] (/Users/ciaranobrien/player-tracker/node_modules/next/dist/compiled/next-server/app-route.runtime.prod.js:6:29225)
    at i (/Users/ciaranobrien/player-tracker/node_modules/next/dist/compiled/next-server/app-route.runtime.prod.js:6:34633)
    at Object.get (/Users/ciaranobrien/player-tracker/node_modules/next/dist/compiled/next-server/app-route.runtime.prod.js:6:34729)
    at c (/Users/ciaranobrien/player-tracker/.next/server/app/api/leaderboard/route.js:1:566)
    at /Users/ciaranobrien/player-tracker/node_modules/next/dist/compiled/next-server/app-route.runtime.prod.js:6:41966
    at /Users/ciaranobrien/player-tracker/node_modules/next/dist/server/lib/trace/tracer.js:133:36
    at NoopContextManager.with (/Users/ciaranobrien/player-tracker/node_modules/next/dist/compiled/@opentelemetry/api/index.js:1:7062)
    at ContextAPI.with (/Users/ciaranobrien/player-tracker/node_modules/next/dist/compiled/@opentelemetry/api/index.js:1:518)
    at NoopTracer.startActiveSpan (/Users/ciaranobrien/player-tracker/node_modules/next/dist/compiled/@opentelemetry/api/index.js:1:18093)
    at ProxyTracer.startActiveSpan (/Users/ciaranobrien/player-tracker/node_modules/next/dist/compiled/@opentelemetry/api/index.js:1:18854) {
  digest: 'DYNAMIC_SERVER_USAGE'
}
Error searching players: ew [Error]: Dynamic server usage: Page couldn't be rendered statically because it used `request.url`. See more info here: https://nextjs.org/docs/messages/dynamic-server-error
    at Object.eP [as staticGenerationBailout] (/Users/ciaranobrien/player-tracker/node_modules/next/dist/compiled/next-server/app-route.runtime.prod.js:6:29225)
    at i (/Users/ciaranobrien/player-tracker/node_modules/next/dist/compiled/next-server/app-route.runtime.prod.js:6:34633)
    at Object.get (/Users/ciaranobrien/player-tracker/node_modules/next/dist/compiled/next-server/app-route.runtime.prod.js:6:34729)
    at p (/Users/ciaranobrien/player-tracker/.next/server/app/api/search/players/route.js:1:566)
    at /Users/ciaranobrien/player-tracker/node_modules/next/dist/compiled/next-server/app-route.runtime.prod.js:6:41966
    at /Users/ciaranobrien/player-tracker/node_modules/next/dist/server/lib/trace/tracer.js:133:36
    at NoopContextManager.with (/Users/ciaranobrien/player-tracker/node_modules/next/dist/compiled/@opentelemetry/api/index.js:1:7062)
    at ContextAPI.with (/Users/ciaranobrien/player-tracker/node_modules/next/dist/compiled/@opentelemetry/api/index.js:1:518)
    at NoopTracer.startActiveSpan (/Users/ciaranobrien/player-tracker/node_modules/next/dist/compiled/@opentelemetry/api/index.js:1:18093)
    at ProxyTracer.startActiveSpan (/Users/ciaranobrien/player-tracker/node_modules/next/dist/compiled/@opentelemetry/api/index.js:1:18854) {
  digest: 'DYNAMIC_SERVER_USAGE'
}
Error fetching alliance leaderboard: ew [Error]: Dynamic server usage: Page couldn't be rendered statically because it used `request.url`. See more info here: https://nextjs.org/docs/messages/dynamic-server-error
    at Object.eP [as staticGenerationBailout] (/Users/ciaranobrien/player-tracker/node_modules/next/dist/compiled/next-server/app-route.runtime.prod.js:6:29225)
    at i (/Users/ciaranobrien/player-tracker/node_modules/next/dist/compiled/next-server/app-route.runtime.prod.js:6:34633)
    at Object.get (/Users/ciaranobrien/player-tracker/node_modules/next/dist/compiled/next-server/app-route.runtime.prod.js:6:34729)
    at p (/Users/ciaranobrien/player-tracker/.next/server/app/api/leaderboard/alliances/route.js:1:566)
    at /Users/ciaranobrien/player-tracker/node_modules/next/dist/compiled/next-server/app-route.runtime.prod.js:6:41966
    at /Users/ciaranobrien/player-tracker/node_modules/next/dist/server/lib/trace/tracer.js:133:36
    at NoopContextManager.with (/Users/ciaranobrien/player-tracker/node_modules/next/dist/compiled/@opentelemetry/api/index.js:1:7062)
    at ContextAPI.with (/Users/ciaranobrien/player-tracker/node_modules/next/dist/compiled/@opentelemetry/api/index.js:1:518)
    at NoopTracer.startActiveSpan (/Users/ciaranobrien/player-tracker/node_modules/next/dist/compiled/@opentelemetry/api/index.js:1:18093)
    at ProxyTracer.startActiveSpan (/Users/ciaranobrien/player-tracker/node_modules/next/dist/compiled/@opentelemetry/api/index.js:1:18854) {
  digest: 'DYNAMIC_SERVER_USAGE'
}
Error fetching progress data: ew [Error]: Dynamic server usage: Page couldn't be rendered statically because it used `request.url`. See more info here: https://nextjs.org/docs/messages/dynamic-server-error
    at Object.eP [as staticGenerationBailout] (/Users/ciaranobrien/player-tracker/node_modules/next/dist/compiled/next-server/app-route.runtime.prod.js:6:29225)
    at i (/Users/ciaranobrien/player-tracker/node_modules/next/dist/compiled/next-server/app-route.runtime.prod.js:6:34633)
    at Object.get (/Users/ciaranobrien/player-tracker/node_modules/next/dist/compiled/next-server/app-route.runtime.prod.js:6:34729)
    at l (/Users/ciaranobrien/player-tracker/.next/server/app/api/progress/route.js:1:566)
    at /Users/ciaranobrien/player-tracker/node_modules/next/dist/compiled/next-server/app-route.runtime.prod.js:6:41966
    at /Users/ciaranobrien/player-tracker/node_modules/next/dist/server/lib/trace/tracer.js:133:36
    at NoopContextManager.with (/Users/ciaranobrien/player-tracker/node_modules/next/dist/compiled/@opentelemetry/api/index.js:1:7062)
    at ContextAPI.with (/Users/ciaranobrien/player-tracker/node_modules/next/dist/compiled/@opentelemetry/api/index.js:1:518)
    at NoopTracer.startActiveSpan (/Users/ciaranobrien/player-tracker/node_modules/next/dist/compiled/@opentelemetry/api/index.js:1:18093)
    at ProxyTracer.startActiveSpan (/Users/ciaranobrien/player-tracker/node_modules/next/dist/compiled/@opentelemetry/api/index.js:1:18854)
    at /Users/ciaranobrien/player-tracker/node_modules/next/dist/server/lib/trace/tracer.js:122:103
    at NoopContextManager.with (/Users/ciaranobrien/player-tracker/node_modules/next/dist/compiled/@opentelemetry/api/index.js:1:7062)
    at ContextAPI.with (/Users/ciaranobrien/player-tracker/node_modules/next/dist/compiled/@opentelemetry/api/index.js:1:518)
    at NextTracerImpl.trace (/Users/ciaranobrien/player-tracker/node_modules/next/dist/server/lib/trace/tracer.js:122:28)
    at /Users/ciaranobrien/player-tracker/node_modules/next/dist/compiled/next-server/app-route.runtime.prod.js:6:35329
    at AsyncLocalStorage.run (node:internal/async_local_storage/async_hooks:91:14) {
  digest: 'DYNAMIC_SERVER_USAGE'
}
Error fetching dashboard stats: TypeError: Cannot read properties of null (reading 'snapshot')
    at p (/Users/ciaranobrien/player-tracker/.next/server/app/api/dashboard/stats/route.js:1:554)
    at /Users/ciaranobrien/player-tracker/node_modules/next/dist/compiled/next-server/app-route.runtime.prod.js:6:41966
    at /Users/ciaranobrien/player-tracker/node_modules/next/dist/server/lib/trace/tracer.js:133:36
    at NoopContextManager.with (/Users/ciaranobrien/player-tracker/node_modules/next/dist/compiled/@opentelemetry/api/index.js:1:7062)
    at ContextAPI.with (/Users/ciaranobrien/player-tracker/node_modules/next/dist/compiled/@opentelemetry/api/index.js:1:518)
    at NoopTracer.startActiveSpan (/Users/ciaranobrien/player-tracker/node_modules/next/dist/compiled/@opentelemetry/api/index.js:1:18093)
    at ProxyTracer.startActiveSpan (/Users/ciaranobrien/player-tracker/node_modules/next/dist/compiled/@opentelemetry/api/index.js:1:18854)
    at /Users/ciaranobrien/player-tracker/node_modules/next/dist/server/lib/trace/tracer.js:122:103
    at NoopContextManager.with (/Users/ciaranobrien/player-tracker/node_modules/next/dist/compiled/@opentelemetry/api/index.js:1:7062)
    at ContextAPI.with (/Users/ciaranobrien/player-tracker/node_modules/next/dist/compiled/@opentelemetry/api/index.js:1:518)
   Generating static pages (6/25)  [=   ] 
Error fetching changes data: ew [Error]: Dynamic server usage: Page couldn't be rendered statically because it used `request.url`. See more info here: https://nextjs.org/docs/messages/dynamic-server-error
    at Object.eP [as staticGenerationBailout] (/Users/ciaranobrien/player-tracker/node_modules/next/dist/compiled/next-server/app-route.runtime.prod.js:6:29225)
    at i (/Users/ciaranobrien/player-tracker/node_modules/next/dist/compiled/next-server/app-route.runtime.prod.js:6:34633)
    at Object.get (/Users/ciaranobrien/player-tracker/node_modules/next/dist/compiled/next-server/app-route.runtime.prod.js:6:34729)
    at c (/Users/ciaranobrien/player-tracker/.next/server/app/api/changes/route.js:1:574)
    at /Users/ciaranobrien/player-tracker/node_modules/next/dist/compiled/next-server/app-route.runtime.prod.js:6:41966
    at /Users/ciaranobrien/player-tracker/node_modules/next/dist/server/lib/trace/tracer.js:133:36
    at NoopContextManager.with (/Users/ciaranobrien/player-tracker/node_modules/next/dist/compiled/@opentelemetry/api/index.js:1:7062)
    at ContextAPI.with (/Users/ciaranobrien/player-tracker/node_modules/next/dist/compiled/@opentelemetry/api/index.js:1:518)
    at NoopTracer.startActiveSpan (/Users/ciaranobrien/player-tracker/node_modules/next/dist/compiled/@opentelemetry/api/index.js:1:18093)
    at ProxyTracer.startActiveSpan (/Users/ciaranobrien/player-tracker/node_modules/next/dist/compiled/@opentelemetry/api/index.js:1:18854) {
  digest: 'DYNAMIC_SERVER_USAGE'
}
Error fetching uploads: n [Error]: Dynamic server usage: Page couldn't be rendered statically because it used `headers`. See more info here: https://nextjs.org/docs/messages/dynamic-server-error
    at l (/Users/ciaranobrien/player-tracker/.next/server/chunks/573.js:1:94380)
    at u (/Users/ciaranobrien/player-tracker/.next/server/chunks/123.js:30:25879)
    at s (/Users/ciaranobrien/player-tracker/.next/server/chunks/123.js:30:20454)
    at d (/Users/ciaranobrien/player-tracker/.next/server/app/api/uploads/route.js:1:1264)
    at /Users/ciaranobrien/player-tracker/node_modules/next/dist/compiled/next-server/app-route.runtime.prod.js:6:41966
    at /Users/ciaranobrien/player-tracker/node_modules/next/dist/server/lib/trace/tracer.js:133:36
    at NoopContextManager.with (/Users/ciaranobrien/player-tracker/node_modules/next/dist/compiled/@opentelemetry/api/index.js:1:7062)
    at ContextAPI.with (/Users/ciaranobrien/player-tracker/node_modules/next/dist/compiled/@opentelemetry/api/index.js:1:518)
    at NoopTracer.startActiveSpan (/Users/ciaranobrien/player-tracker/node_modules/next/dist/compiled/@opentelemetry/api/index.js:1:18093)
    at ProxyTracer.startActiveSpan (/Users/ciaranobrien/player-tracker/node_modules/next/dist/compiled/@opentelemetry/api/index.js:1:18854) {
  digest: 'DYNAMIC_SERVER_USAGE'
 ✓ Generating static pages (25/25) 
 ✓ Collecting build traces    
 ✓ Finalizing page optimization    

Route (app)                              Size     First Load JS
┌ ○ /                                    862 B          92.6 kB
├ ○ /_not-found                          868 B          82.8 kB
├ λ /api/auth/[...nextauth]              0 B                0 B
├ λ /api/changes                         0 B                0 B
├ λ /api/dashboard/stats                 0 B                0 B
├ λ /api/leaderboard                     0 B                0 B
├ λ /api/leaderboard/alliances           0 B                0 B
├ λ /api/players                         0 B                0 B
├ λ /api/players/[id]                    0 B                0 B
├ λ /api/progress                        0 B                0 B
├ λ /api/search/players                  0 B                0 B
├ λ /api/upload                          0 B                0 B
├ λ /api/uploads                         0 B                0 B
├ ○ /auth/signin                         2.11 kB         102 kB
├ ○ /dashboard                           146 B          82.1 kB
├ ○ /dashboard/alliance-moves            146 B          82.1 kB
├ ○ /dashboard/changes                   6.87 kB        96.6 kB
├ ○ /dashboard/leaderboard               6.51 kB         102 kB
├ ○ /dashboard/name-changes              146 B          82.1 kB
├ ○ /dashboard/overview                  3.14 kB         165 kB
├ ○ /dashboard/players                   2.25 kB        84.2 kB
├ ○ /dashboard/progress                  6.42 kB         169 kB
├ ○ /dashboard/upload                    23.2 kB         123 kB
└ ○ /players                             1.21 kB        83.1 kB
+ First Load JS shared by all            81.9 kB
  ├ chunks/938-12c6e39642d40508.js       26.7 kB
  ├ chunks/fd9d1056-7fda3e9b28bca7f7.js  53.3 kB
  ├ chunks/main-app-d0c22d229a4da8ed.js  218 B
  └ chunks/webpack-8dffa0f326e8e9d5.js   1.74 kB


○  (Static)   prerendered as static content
λ  (Dynamic)  server-rendered on demand using Node.js


> player-tracker@1.0.0 postbuild
> prisma generate

Environment variables loaded from .env
Prisma schema loaded from prisma/schema.prisma

✔ Generated Prisma Client (v5.22.0) to ./node_modules/@prisma/client in 99ms

Start by importing your Prisma Client (See: https://pris.ly/d/importing-client)

Tip: Interested in query caching in just a few lines of code? Try Accelerate today! https://pris.ly/tip-3-accelerate

┌─────────────────────────────────────────────────────────┐
│  Update available 5.22.0 -> 6.14.0                      │
│                                                         │
│  This is a major update - please follow the guide at    │
│  https://pris.ly/d/major-version-upgrade                │
│                                                         │
│  Run the following to update                            │
│    npm i --save-dev prisma@latest                       │
│    npm i @prisma/client@latest                          │
└─────────────────────────────────────────────────────────┘
ciaranobrien@Ciarans-MacBook-Pro player-tracker % claude
╭───────────────────────────────────────────────────╮
│ ✻ Welcome to Claude Code!                         │
│                                                   │
│   /help for help, /status for your current setup  │
│                                                   │
│   cwd: /Users/ciaranobrien/player-tracker         │
╰───────────────────────────────────────────────────╯

> review above

⏺ I understand. I've reviewed the project context from the CLAUDE.md file - this is a Next.js 14 player tracking application with
  PostgreSQL/Prisma, handling Excel uploads for game player data. I'm ready to help with any tasks you need.

╭──────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────╮
│ >                                                                                                                                        │
╰──────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────╯
  ⏵⏵ accept edits on (shift+tab to cycle)                                                          Approaching usage limit · resets at 6am






